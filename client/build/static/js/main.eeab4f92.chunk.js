(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(e,t,s){},64:function(e,t,s){"use strict";s.r(t);var c=s(1),r=s(28),a=s.n(r),l=(s(35),s(11)),o=s(2),n=s(12),i=s(0),d=function(){return Object(i.jsxs)("div",{className:"w-full py-4 my-4 border-2 border-black border-solid",children:[Object(i.jsxs)("h1",{className:"text-2xl text-center sm:text-4xl md:text-5xl g-font",children:["(React)",Object(i.jsx)("br",{className:"hidden"})," Google Books Search"]}),Object(i.jsx)("h3",{className:"py-4 text-lg text-center sm:text-xl md:text-2xl",children:"Search for and Save Books of Interest"})]})},b=s(8),j=s.n(b),x=function(e){var t=e.book,s=e.saved,c=e.setSavedBooks,r=t.title,a=t.authors,l=t.description,o=t.image,n=t.link,d=t.id,b=t.textSnippet,x=function(){s?j.a.delete("/api/saved/"+d).then((function(e){if(e.status<300)return e;throw new Error(e)})).then((function(e){var t=e.data;console.log(t),c(t)})).catch((function(e){return console.error(e)})):j.a.post("/api/saved/"+d,{book:t})};return Object(i.jsxs)("div",{className:"w-full p-2 border-2 border-black border-solid",children:[Object(i.jsxs)("div",{className:"flex justify-between",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{className:"text-lg",children:r}),Object(i.jsxs)("p",{className:"text-xs",children:["Written By ",a.join(", ")]})]}),Object(i.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[Object(i.jsx)("a",{href:n,children:Object(i.jsx)("button",{className:"px-2 m-1 bg-white border-2 border-black border-solid shadow-md",children:"View"})}),Object(i.jsx)("span",{children:s?Object(i.jsx)("button",{className:"px-2 m-1 bg-white border-2 border-black border-solid shadow-md flex-0",onClick:x,children:"Unsave"}):Object(i.jsx)("button",{className:"px-2 m-1 bg-white border-2 border-black border-solid shadow-md flex-0",onClick:x,children:"Save"})})]})]}),Object(i.jsxs)("div",{className:"flex mt-4",children:[Object(i.jsx)("div",{className:"contents",children:Object(i.jsx)("img",{alt:r,src:o,className:"w-32 h-48 mr-4 md:w-48 md:h-72"})}),Object(i.jsxs)("p",{className:"text-sm sm:text-md",children:[(null===l||void 0===l?void 0:l.slice(0,500).trim())||(null===b||void 0===b?void 0:b.slice(0,500).trim()),500===(null===l||void 0===l?void 0:l.slice(0,500).length)?"...":null]})]})]})},h=function(e){var t=e.savedBooks,s=e.setSavedBooks;return Object(i.jsxs)("div",{className:"w-full px-2 py-2 pb-4 my-4 border-2 border-black border-solid",children:[Object(i.jsx)("h4",{className:"mb-2 text-lg",children:"Saved Books"}),t?t.map((function(e){return Object(i.jsx)(x,{book:e,saved:!0,savedBooks:t,setSavedBooks:s},e.id+"res")})):null]})},u=function(){return Object(i.jsx)("div",{className:"w-full py-4 my-4 border-2 border-black border-solid",children:Object(i.jsx)("h3",{className:"py-4 text-lg text-center sm:text-xl md:text-2xl",children:"No books saved yet... Go do some searching."})})},m=function(){return Object(i.jsx)("div",{className:"w-full py-4 my-4 border-2 border-black border-solid",children:Object(i.jsx)("h3",{className:"py-4 text-lg text-center sm:text-xl md:text-2xl",children:"Loading..."})})},p=function(){var e=Object(c.useState)([]),t=Object(n.a)(e,2),s=t[0],r=t[1],a=Object(c.useState)(!0),l=Object(n.a)(a,2),o=l[0],b=l[1];return Object(c.useEffect)((function(){j.a.get("/api/saved").then((function(e){if(e.status<300)return e;throw new Error(e)})).then((function(e){var t=e.data;console.log(t),r(t),b(!1)})).catch((function(e){return console.error(e)}))}),[]),Object(i.jsxs)("div",{className:"h-[calc(100vh-82px)] px-4 pt-4",children:[Object(i.jsx)(d,{}),o?Object(i.jsx)(m,{}):s&&(null===s||void 0===s?void 0:s.length)>0?Object(i.jsx)(h,{savedBooks:s,setSavedBooks:r}):Object(i.jsx)(u,{})]})},v=s(14),O=s(13),f=function(e){var t=e.state,s=t.searchState,c=t.setSearchState;return Object(i.jsxs)("div",{className:"w-full px-2 py-2 my-4 border-2 border-black border-solid",children:[Object(i.jsx)("h4",{className:"text-lg",children:"Book Search"}),Object(i.jsx)("p",{className:"py-4 text-xs",children:"Book"}),Object(i.jsx)("input",{className:"w-full px-1 border-2 border-black outline-none",value:s.search,onChange:function(e){c(Object(O.a)(Object(O.a)({},s),{},Object(v.a)({},e.target.name,e.target.value)))},name:"search"}),Object(i.jsx)("div",{className:"flex flex-row-reverse",children:Object(i.jsx)("button",{className:"px-2 my-2 bg-white border-2 border-black border-solid shadow-md",onClick:function(e){e.preventDefault(),j.a.post("/api/search",{baseUrl:"https://www.googleapis.com/books/v1/volumes?q=".concat(s.search)}).then((function(e){if(e.status<300)return console.log(e),e;throw e})).then((function(e){var t=e.data.items.map((function(e){var t=e.volumeInfo,s=t.description,c=t.textSnippet,r=t.authors,a=t.canonicalVolumeLink,l=t.imageLinks,o=t.title;return{id:e.id,description:s||null,textSnippet:c||null,authors:r||[],link:a||"https://www.google.com/",image:(null===l||void 0===l?void 0:l.thumbnail)||null,title:o||null}}));c(Object(O.a)(Object(O.a)({},s),{},{results:t}))})).catch((function(e){return console.error(e)}))},children:"Search"})})]})},k=function(e){var t=e.state.searchState.results;return Object(i.jsxs)("div",{className:"w-full px-2 py-2 pb-4 my-4 border-2 border-black border-solid",children:[Object(i.jsx)("h4",{className:"mb-2 text-lg",children:"Results"}),t.map((function(e){return Object(i.jsx)(x,{book:e},e.id+"res")}))]})},g=function(){var e=Object(c.useState)({search:"Harry Potter",results:[]}),t=Object(n.a)(e,2),s=t[0],r=t[1];return Object(i.jsxs)("div",{className:"h-[calc(100vh-82px)] px-4 pt-4",children:[Object(i.jsx)(d,{}),Object(i.jsx)(f,{state:{searchState:s,setSearchState:r}}),0!==s.results.length?Object(i.jsx)(k,{state:{searchState:s,setSearchState:r}}):null]})},N=function(){return Object(i.jsx)("div",{className:"w-full pb-4 border-b-[2px] border-black border-solid",children:Object(i.jsxs)("nav",{className:"flex items-end px-4 pt-4 align-middle",children:[Object(i.jsx)("h3",{className:"text-2xl g-font",children:"Google Books"}),Object(i.jsx)(l.b,{to:"/",className:"pb-0.5 pl-6 hover:text-[#555]",children:"Search"}),Object(i.jsx)(l.b,{to:"/saved",className:"pb-0.5 pl-6 hover:text-[#555]",children:"Saved"})]})})},w=function(){return Object(i.jsxs)(l.a,{children:[Object(i.jsx)(N,{}),Object(i.jsxs)(o.c,{children:[Object(i.jsx)(o.a,{path:"/saved",component:p}),Object(i.jsx)(o.a,{path:"/",component:g})]})]})},S=s(30);s.n(S).a.config(),a.a.render(Object(i.jsx)(w,{}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.eeab4f92.chunk.js.map