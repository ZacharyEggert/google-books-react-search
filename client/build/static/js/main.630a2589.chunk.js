(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(e,t,s){},64:function(e,t,s){"use strict";s.r(t);var c=s(1),r=s(28),a=s.n(r),o=(s(35),s(11)),n=s(2),l=s(12),d=s(0),i=function(){return Object(d.jsxs)("div",{className:"w-full py-4 my-4 border-2 border-black border-solid",children:[Object(d.jsxs)("h1",{className:"text-2xl text-center sm:text-4xl md:text-5xl g-font",children:["(React)",Object(d.jsx)("br",{className:"hidden"})," Google Books Search"]}),Object(d.jsx)("h3",{className:"py-4 text-lg text-center sm:text-xl md:text-2xl",children:"Search for and Save Books of Interest"})]})},b=s(8),j=s.n(b),x=function(e){var t=e.book,s=e.saved,c=e.setSavedBooks,r=t.title,a=t.authors,o=t.description,n=t.image,l=t.link,i=t.id,b=t.textSnippet,x=function(){s?j.a.delete("/api/saved/"+i).then((function(e){if(e.status<300)return e;throw new Error(e)})).then((function(e){var t=e.data;console.log(t),c(t)})).catch((function(e){return console.error(e)})):j.a.post("/api/saved/"+i,{book:t})};return Object(d.jsxs)("div",{className:"w-full p-2 border-2 border-black border-solid",children:[Object(d.jsxs)("div",{className:"flex justify-between",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h4",{className:"text-lg",children:r}),Object(d.jsxs)("p",{className:"text-xs",children:["Written By ",a.join(", ")]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("a",{href:l,children:Object(d.jsx)("button",{className:"px-2 m-1 bg-white border-2 border-black border-solid shadow-md",children:"View"})}),s?Object(d.jsx)("button",{className:"px-2 m-1 bg-white border-2 border-black border-solid shadow-md",onClick:x,children:"Unsave"}):Object(d.jsx)("button",{className:"px-2 m-1 bg-white border-2 border-black border-solid shadow-md",onClick:x,children:"Save"})]})]}),Object(d.jsxs)("div",{className:"flex mt-4",children:[Object(d.jsx)("img",{alt:r,src:n,className:"w-32 mr-4 md:w-48"}),Object(d.jsx)("p",{className:"",children:o||b})]})]})},h=function(e){var t=e.savedBooks,s=e.setSavedBooks;return Object(d.jsxs)("div",{className:"w-full px-2 py-2 pb-4 my-4 border-2 border-black border-solid",children:[Object(d.jsx)("h4",{className:"mb-2 text-lg",children:"Saved Books"}),t?t.map((function(e){return Object(d.jsx)(x,{book:e,saved:!0,savedBooks:t,setSavedBooks:s},e.id+"res")})):null]})},u=function(){return Object(d.jsx)("div",{className:"w-full py-4 my-4 border-2 border-black border-solid",children:Object(d.jsx)("h3",{className:"py-4 text-lg text-center sm:text-xl md:text-2xl",children:"No books saved yet... Go do some searching."})})},m=function(){return Object(d.jsx)("div",{className:"w-full py-4 my-4 border-2 border-black border-solid",children:Object(d.jsx)("h3",{className:"py-4 text-lg text-center sm:text-xl md:text-2xl",children:"Loading..."})})},p=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),s=t[0],r=t[1],a=Object(c.useState)(!0),o=Object(l.a)(a,2),n=o[0],b=o[1];return Object(c.useEffect)((function(){j.a.get("/api/saved").then((function(e){if(e.status<300)return e;throw new Error(e)})).then((function(e){var t=e.data;console.log(t),r(t),b(!1)})).catch((function(e){return console.error(e)}))}),[]),Object(d.jsxs)("div",{className:"h-[calc(100vh-82px)] px-4 pt-4",children:[Object(d.jsx)(i,{}),n?Object(d.jsx)(m,{}):s&&(null===s||void 0===s?void 0:s.length)>0?Object(d.jsx)(h,{savedBooks:s,setSavedBooks:r}):Object(d.jsx)(u,{})]})},O=s(14),v=s(13),f=function(e){var t=e.state,s=t.searchState,c=t.setSearchState;return Object(d.jsxs)("div",{className:"w-full px-2 py-2 my-4 border-2 border-black border-solid",children:[Object(d.jsx)("h4",{className:"text-lg",children:"Book Search"}),Object(d.jsx)("p",{className:"py-4 text-xs",children:"Book"}),Object(d.jsx)("input",{className:"w-full px-1 border-2 border-black outline-none",value:s.search,onChange:function(e){c(Object(v.a)(Object(v.a)({},s),{},Object(O.a)({},e.target.name,e.target.value)))},name:"search"}),Object(d.jsx)("div",{className:"flex flex-row-reverse",children:Object(d.jsx)("button",{className:"px-2 my-2 bg-white border-2 border-black border-solid shadow-md",onClick:function(e){e.preventDefault(),j.a.post("/api/search",{baseUrl:"https://www.googleapis.com/books/v1/volumes?q=".concat(s.search)}).then((function(e){if(e.status<300)return console.log(e),e;throw e})).then((function(e){var t=e.data.items.map((function(e){var t=e.volumeInfo,s=t.description,c=t.textSnippet,r=t.authors,a=t.canonicalVolumeLink,o=t.imageLinks,n=t.title;return{id:e.id,description:s,textSnippet:c,authors:r,link:a,image:o.thumbnail,title:n}}));c(Object(v.a)(Object(v.a)({},s),{},{results:t}))})).catch((function(e){return console.error(e)}))},children:"Search"})})]})},k=function(e){var t=e.state.searchState.results;return Object(d.jsxs)("div",{className:"w-full px-2 py-2 pb-4 my-4 border-2 border-black border-solid",children:[Object(d.jsx)("h4",{className:"mb-2 text-lg",children:"Results"}),t.map((function(e){return Object(d.jsx)(x,{book:e},e.id+"res")}))]})},N=function(){var e=Object(c.useState)({search:"Harry Potter",results:[]}),t=Object(l.a)(e,2),s=t[0],r=t[1];return Object(d.jsxs)("div",{className:"h-[calc(100vh-82px)] px-4 pt-4",children:[Object(d.jsx)(i,{}),Object(d.jsx)(f,{state:{searchState:s,setSearchState:r}}),0!==s.results.length?Object(d.jsx)(k,{state:{searchState:s,setSearchState:r}}):null]})},g=function(){return Object(d.jsx)("div",{className:"w-full pb-4 border-b-[2px] border-black border-solid",children:Object(d.jsxs)("nav",{className:"flex items-end px-4 pt-4 align-middle",children:[Object(d.jsx)("h3",{className:"text-2xl g-font",children:"Google Books"}),Object(d.jsx)(o.b,{to:"/",className:"pb-0.5 pl-6 hover:text-[#555]",children:"Search"}),Object(d.jsx)(o.b,{to:"/saved",className:"pb-0.5 pl-6 hover:text-[#555]",children:"Saved"})]})})},w=function(){return Object(d.jsxs)(o.a,{children:[Object(d.jsx)(g,{}),Object(d.jsxs)(n.c,{children:[Object(d.jsx)(n.a,{path:"/saved",component:p}),Object(d.jsx)(n.a,{path:"/",component:N})]})]})},S=s(30);s.n(S).a.config(),a.a.render(Object(d.jsx)(w,{}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.630a2589.chunk.js.map